# 计网基础

### 1. 为什么需要懂计网

- 遇到问题懂得分析
- 模拟登陆原理
- 反爬
- 非浏览器客户端能否爬取

### 2. 网络协议

- 设备数据转发通过协议完成
- 不同协议分工不同

### 3. 一个完整的网络请求

- 浏览器->DNS服务器(查询域名对应ip)
  - 查询dns
  - 返回ip
- 浏览器-> web服务器
  - 建立tcp连接
  - 发起http请求
  - 返回html

- ![草图](https://user-images.githubusercontent.com/33116315/66623287-891b8680-ec1d-11e9-98b6-33f256f30d34.png)

### 4. ip和url

	#### 1. ip

- 把网络传输比作送快递，数据是包裹
- ip就是门牌号
- 动态ip与静态ip --- 服务器不会随意封ip

#### 2. url

- uniform resource locator -- 统一资源定位符
- 每个url指向一个独特的资源

#### 3. url协议

- ![草图](https://user-images.githubusercontent.com/33116315/66630541-14eddc80-ec37-11e9-9695-c639e4627e55.png)
- 常用协议：http/https/file/ftp
- 域名：ip地址别名，此处也可直接用ip
- 相对url和绝对url

### 5. 七层网络协议

#### 1. 五层具体

- 应用层(应用程序)：http、ftp、dns、pop3
- 传输层：tcp、udp(快)
- 网络层(路由器)：ICMP、IP、IGMP
- 数据链路层(交换机)：ARP、RARP
- 物理层(双绞线/集线器)：物理传输介质

#### 2. 如何使用协议

- 集线器、路由器、操作系统已经实现了协议
- 我们只需要调用接口（socket）

### 6. TCP/IP协议

#### 1. ip

- ip地址是ip协议提供的一种统一的地址格式
- ip地址是逻辑地址，是逻辑层面的，可以修改变化（相应的，不变的是MAC地址）
- ip协议负责将数据“片段”贴上标签，成为数据包，标签包括**源ip**和**目标ip**。这些标签决定数据传输的路径（**路由**）
- 路由器
  - 每个节点上的路由器都记录着与自己相邻的路由器地址，并形成一个表格---<font color=red>路由表</font>，路由表是一个动态数据库，并在网络活动中不断更新
  - 数据包到达一个路由器后，该路由器根据数据包的地址信息，查询路由表，然后选择一个最佳的路径发送数据包

#### 2. tcp

- tcp(传输控制协议)是一种面向连接、可靠的、基于字节流的传输层协议
- tcp协议负责把需要传输的数据分解成一定长度的“片段”

### 7. socket编程

#### 1. 什么是socket

- socket：本身不是协议，而是**套接字**，操作系统为了方便使用tcp而存在的抽象层，它把复杂的协议隐藏在接口背后
- 端口

#### 2. socket编程

- ![草图](https://user-images.githubusercontent.com/33116315/66634105-f4298500-ec3e-11e9-85d5-d425475bc29b.png)
- 实验

